<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>OdontoCalc ‚Äî C√°lculos Cl√≠nicos em Odontologia</title>
  <meta name="description" content="OdontoCalc √© uma calculadora cl√≠nica para Odontologia com c√°lculos de anestesia, endodontia e convers√µes r√°pidas, otimizada para celular." />
  <meta name="theme-color" content="#0b0f14" />

  <!-- Favicon padr√£o -->
  <link rel="icon" href="imgs/favicon.ico" />

  <!-- Favicons PNG -->
  <link rel="icon" type="image/png" sizes="16x16" href="imgs/favicon-16.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="imgs/favicon-32.png" />
  <link rel="icon" type="image/png" sizes="64x64" href="imgs/favicon-64.png" />

  <link rel="manifest" href="manifest.json" />

  <!-- √çcone para Android / PWA futura -->
  <link rel="apple-touch-icon" sizes="128x128" href="imgs/logo-128.png" />
  <link rel="apple-touch-icon" sizes="256x256" href="imgs/logo-256.png" />
  <link rel="apple-touch-icon" sizes="512x512" href="imgs/logo-512.png" />

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- PWA / Mobile -->
  <meta name="theme-color" content="#0b0f14" />

  <!-- Android / Chrome -->
  <meta name="mobile-web-app-capable" content="yes" />

  <!-- iOS / Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  
</head>
<body>
  <header class="header">
    <div class="container header__inner">
      
      <div class="brand">
        <img 
          src="imgs/logo.svg"
          alt="OdontoCalc"
          class="logo-img"
          loading="eager"
        />
        <div class="brand__text">
          <div class="brand__name">OdontoCalc <span class="app-version" id="appVersion"></span></div> 
          <div class="brand__tag">C√°lculos cl√≠nicos r√°pidos</div>
        </div>
      </div>

      <div class="header__actions">
        <button id="installBtn" class="install-btn hidden" aria-label="Instalar aplicativo">
          <svg class="install-icon" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 16l4-5h-3V4h-2v7H8l4 5z"></path>
            <path d="M5 18h14v2H5z"></path>
          </svg>
          <span>Instalar</span>
        </button>

        <button class="themeBtn" id="themeBtn" type="button" aria-label="Alternar tema">
          <span id="themeIcon" aria-hidden="true">üåô</span>
        </button>
      </div>

    </div>
  </header>


  <main class="container main">
    <section class="tabs" aria-label="Navega√ß√£o">
      <button class="tab is-active" data-tab="anestesia" type="button">Anestesia</button>
      <button class="tab" data-tab="mgml" type="button">mg/ml & tubete</button>
      <button class="tab" data-tab="endo" type="button">Endo</button>
      <button class="tab" data-tab="tabelas" type="button">Tabelas</button>
      <button class="tab" data-tab="sobre" type="button">Sobre</button>
    </section>

    <!-- ANESTESIA -->
    <section class="panel is-active" id="tab-anestesia">
      <div class="card">
        <div class="card__title">C√°lculo de dose m√°xima e tubetes</div>
        <p class="muted">
          Ajuda para estimar <b>mg m√°ximos</b> e <b>tubetes m√°ximos</b> (1,8 ml) a partir do peso do paciente.
          Use como refer√™ncia e sempre siga protocolos/condi√ß√µes cl√≠nicas.
        </p>

        <div class="grid">
          <label class="field">
            <span>Peso do paciente (kg)</span>
            <input
              id="pesoKg"
              type="text"
              inputmode="decimal"
              pattern="[0-9]*[.,]?[0-9]*"
              placeholder="Ex: 70"
            />
          </label>

          <label class="field">
            <span>Anest√©sico</span>
            <select id="anestesicoSelect"></select>
          </label>

          <label class="field">
            <span>Vasoconstritor</span>
            <select id="vasoSelect">
              <option value="sem">Sem vasoconstritor</option>
              <option value="com">Com vasoconstritor</option>
            </select>
          </label>

          <label class="field">
            <span>Volume do tubete (ml)</span>
            <input id="tubeteMl" inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" value="1.8" />
          </label>
        </div>

        <div class="actions">
          <button class="btn btn--ghost" id="btnLimparAnestesia" type="button">Limpar</button>
        </div>

        <div class="result muted" id="resAnestesia" aria-live="polite">
          Preencha os dados acima para ver o c√°lculo.
        </div>

        <details class="details">
          <summary>Notas r√°pidas (o que a planilha calcula)</summary>
          <ul class="list">
            <li><b>Dose m√°xima (mg)</b> = peso(kg) √ó doseM√°x(mg/kg)</li>
            <li><b>mg por tubete</b> = (mg/ml) √ó (ml por tubete)</li>
            <li><b>Tubetes m√°ximos</b> = dose m√°xima (mg) √∑ mg por tubete</li>
          </ul>
        </details>
      </div>
    </section>

    <!-- MG/ML -->
    <section class="panel" id="tab-mgml">
      <div class="card">
        <div class="card__title">Convers√£o r√°pida: % ‚Üí mg/ml ‚Üí mg/tubete</div>
        <p class="muted">
          √ötil pra lembrar: <b>1%</b> = <b>10 mg/ml</b>. Ent√£o <b>2%</b> = 20 mg/ml, <b>4%</b> = 40 mg/ml, etc.
        </p>

        <div class="grid">
          <label class="field">
            <span>Concentra√ß√£o (%)</span>
            <input id="concPct" inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" placeholder="Ex: 2" />
          </label>

          <label class="field">
            <span>Volume do tubete (ml)</span>
            <input id="tubeteMl2" inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" value="1.8" />
          </label>
        </div>

        <div class="actions">
          <button class="btn btn--ghost" id="btnLimparMgml" type="button">Limpar</button>
        </div>

        <div class="result muted" id="resMgml" aria-live="polite">
          Informe a concentra√ß√£o e o volume do tubete.
        </div>

        <div class="miniCard">
          <div class="miniCard__title">Atalho mental</div>
          <div class="miniCard__body">
            <code>mg/ml = % √ó 10</code> <span class="muted">(ex: 3% ‚Üí 30 mg/ml)</span>
          </div>
        </div>
      </div>
    </section>

    <!-- ENDO -->
    <section class="panel" id="tab-endo">
      <div class="card">
        <div class="card__title">Endodontia: comprimento de trabalho</div>
        <p class="muted">
          Calcula o comprimento de trabalho subtraindo a ‚Äúredu√ß√£o apical‚Äù (ex.: 0,5 a 1,0 mm).
        </p>

        <div class="grid">
          <label class="field">
            <span>Comprimento medido (mm)</span>
            <input id="comprimentoMm" inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" placeholder="Ex: 22" />
          </label>

          <label class="field">
            <span>Redu√ß√£o apical (mm)</span>
            <input id="reducaoMm" inputmode="decimal" pattern="[0-9]*[.,]?[0-9]*" value="1" />
          </label>

          <label class="field">
            <span>Resultado (mm)</span>
            <input id="resultadoEndo" readonly placeholder="Preencha os valores acima" />
          </label>
        </div>

        <div class="actions">
          <button class="btn btn--ghost" id="btnLimparEndo" type="button">Limpar</button>
        </div>

        <div class="hint">
          Dica: voc√™ pode usar com medida do localizador apical ou da radiografia (dependendo da t√©cnica).
        </div>
      </div>
    </section>

    <!-- TABELAS -->
    <section class="panel" id="tab-tabelas">
      <div class="card">
        <div class="card__title">Tabelas r√°pidas (refer√™ncia)</div>
        <p class="muted">
          Tabelas de refer√™ncia r√°pida (‚Äúcolas‚Äù) para uso em cl√≠nica e estudo.
          Os valores abaixo s√£o guias pr√°ticos e podem variar conforme material, t√©cnica,
          equipamento e orienta√ß√£o do professor ou protocolo adotado.
        </p>

        <div class="twoCols">
          <div class="miniCard">
            <div class="miniCard__title">Anest√©sicos locais ‚Äî refer√™ncia r√°pida</div>
            <div class="miniCard__body">
              <div class="table-wrap">
                <table class="table">
                  <thead>
                    <tr>
                      <th>Anest√©sico</th>
                      <th>Concentra√ß√£o</th>
                      <th>mg/ml</th>
                      <th>Dura√ß√£o*</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr><td>Lidoca√≠na</td><td>2%</td><td>20</td><td>M√©dia</td></tr>
                    <tr><td>Lidoca√≠na</td><td>3%</td><td>30</td><td>M√©dia</td></tr>
                    <tr><td>Mepivaca√≠na</td><td>2%</td><td>20</td><td>M√©dia</td></tr>
                    <tr><td>Mepivaca√≠na</td><td>3%</td><td>30</td><td>M√©dia</td></tr>
                    <tr><td>Artica√≠na</td><td>4%</td><td>40</td><td>Curta‚ÄìM√©dia</td></tr>
                    <tr><td>Priloca√≠na</td><td>3%</td><td>30</td><td>M√©dia</td></tr>
                    <tr><td>Bupivaca√≠na</td><td>0,5%</td><td>5</td><td>Longa</td></tr>
                  </tbody>
                </table>
              </div>
              <div class="muted small">
                *Dura√ß√£o aproximada. Pode variar conforme vasoconstritor, t√©cnica e paciente.<br>
                Regra r√°pida: <b>1% = 10 mg/ml</b>.
              </div>
            </div>
          </div>

          <div class="miniCard">
            <div class="miniCard__title">Materiais odontol√≥gicos ‚Äî colas pr√°ticas</div>
            <div class="miniCard__body">
              <ul class="list">
                <li><b>Alginato</b>: excesso de √°gua ‚Üí molde fraco / pouca √°gua ‚Üí presa r√°pida</li>
                <li><b>Ion√¥mero de vidro</b>: p√≥ em excesso ‚Üë resist√™ncia / l√≠quido em excesso ‚Üì presa</li>
                <li><b>Fosfato de zinco</b>: incorporar p√≥ em pequenas por√ß√µes, placa fria ajuda</li>
                <li><b>Resina composta</b>: aten√ß√£o ao tempo de trabalho sob luz ambiente</li>
              </ul>
              <div class="muted small">
                Sempre respeite a propor√ß√£o e o tempo indicados pelo fabricante.
              </div>
            </div>
          </div>

          <div class="miniCard">
            <div class="miniCard__title">Radiologia intraoral ‚Äî lembretes</div>
            <div class="miniCard__body">
              <div class="table-wrap">
                <table class="table">
                  <thead>
                    <tr>
                      <th>Regi√£o</th>
                      <th>Adulto</th>
                      <th>Crian√ßa</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr><td>Anteriores</td><td>Menor tempo</td><td>Tempo reduzido</td></tr>
                    <tr><td>Posteriores</td><td>Maior tempo</td><td>Tempo reduzido</td></tr>
                  </tbody>
                </table>
              </div>

              <div class="muted small">
                O tempo de exposi√ß√£o varia conforme aparelho, sensor/filme e t√©cnica.
                Use sempre a tabela espec√≠fica do seu equipamento.
              </div>
            </div>
          </div>

          <div class="miniCard">
            <div class="miniCard__title">Endodontia ‚Äî atalhos r√°pidos</div>
            <div class="miniCard__body">
              <ul class="list">
                <li><b>Comprimento de trabalho</b>: comprimento aparente ‚àí redu√ß√£o apical</li>
                <li><b>Redu√ß√£o apical comum</b>: 0,5 a 1,0 mm</li>
                <li><b>Irriga√ß√£o</b>: hipoclorito + abund√¢ncia > concentra√ß√£o isolada</li>
                <li><b>Secagem</b>: cones de papel compat√≠veis com o √∫ltimo instrumento</li>
              </ul>

              <div class="muted small">
                Valores variam conforme t√©cnica, dente e orienta√ß√£o cl√≠nica.
              </div>
            </div>
          </div>
          
        </div>
      </div>
    </section>

    <!-- SOBRE -->
    <section class="panel" id="tab-sobre">
      <div class="card">
        <div class="card__title">Sobre o OdontoCalc</div>

        <p class="muted">
          O <b>OdontoCalc</b> √© uma aplica√ß√£o web progressiva (PWA), desenvolvida para auxiliar
          <b>estudantes e cirurgi√µes-dentistas</b> em c√°lculos cl√≠nicos essenciais da Odontologia,
          com foco em <b>seguran√ßa, clareza e uso r√°pido</b>, especialmente em dispositivos m√≥veis.
        </p>

        <p class="muted">
          O projeto centraliza c√°lculos que costumam gerar d√∫vidas ou demandar tempo durante a
          pr√°tica cl√≠nica e acad√™mica, como <b>anestesia local</b>, <b>convers√µes de concentra√ß√£o</b>
          e <b>endodontia</b>, aplicando sempre crit√©rios <b>conservadores e explic√°veis</b>.
        </p>

        <div class="miniCard">
          <div class="miniCard__title">Crit√©rios de seguran√ßa adotados</div>
          <div class="miniCard__body">
            <ul class="list">
              <li>C√°lculo por <b>peso (mg/kg)</b>, respeitando presen√ßa ou n√£o de vasoconstritor</li>
              <li>Aplica√ß√£o autom√°tica do <b>m√°ximo absoluto (mg)</b>, quando definido</li>
              <li>Limite de <b>n√∫mero m√°ximo de tubetes por sess√£o</b></li>
              <li>Sempre √© utilizado o <b>valor mais conservador</b> entre os limites</li>
              <li>Valores de tubetes s√£o <b>sempre arredondados para baixo</b></li>
            </ul>
          </div>
        </div>

        <div class="miniCard">
          <div class="miniCard__title">Destaques visuais e alertas cl√≠nicos</div>
          <div class="miniCard__body">
            <ul class="list">
              <li>Indicadores visuais para limites <b>seguros, de aten√ß√£o e cr√≠ticos</b></li>
              <li>Destaque autom√°tico quando o <b>m√°ximo absoluto</b> √© o fator limitante</li>
              <li>Identifica√ß√£o de anest√©sicos de <b>alto risco</b>, como a bupivaca√≠na</li>
              <li>Exibi√ß√£o do equivalente em <b>tubetes</b> do limite absoluto</li>
            </ul>
          </div>
        </div>

        <div class="miniCard">
          <div class="miniCard__title">Tecnologia e uso</div>
          <div class="miniCard__body">
            <ul class="list">
              <li>Desenvolvido em <b>HTML, CSS e JavaScript puro</b></li>
              <li>Funciona offline e pode ser instalado como aplicativo (PWA)</li>
              <li>Interface responsiva, otimizada para uso em celular</li>
              <li>Sem depend√™ncia de servidores ou envio de dados</li>
            </ul>
          </div>
        </div>

        <p class="muted small">
          <b>Aviso importante:</b> o OdontoCalc √© uma ferramenta de apoio educacional e cl√≠nico.
          Ele n√£o substitui o julgamento profissional, a leitura de bulas, protocolos institucionais
          ou a avalia√ß√£o individual do paciente. Em caso de d√∫vida, utilize sempre o crit√©rio mais seguro.
        </p>
      </div>
    </section>

  </main>

  <footer class="footer">
    <div class="container footer__inner">
      <span class="muted small">¬© <span id="year"></span> OdontoCalc</span>
      <span class="muted small footer-author">
        Por Luiz Paulo
        <a
          href="https://github.com/luiz-lp/"
          target="_blank"
          rel="noopener"
          aria-label="GitHub de Luiz Paulo"
          class="github-link"
        >
          <svg
            class="github-icon"
            viewBox="0 0 24 24"
            aria-hidden="true"
          >
            <path d="M12 .5C5.65.5.5 5.65.5 12c0 5.1 3.3 9.4 7.9 10.93.58.1.8-.25.8-.56v-2.17c-3.22.7-3.9-1.55-3.9-1.55-.53-1.33-1.3-1.68-1.3-1.68-1.06-.72.08-.7.08-.7 1.17.08 1.78 1.2 1.78 1.2 1.04 1.78 2.73 1.27 3.4.97.1-.75.4-1.27.73-1.56-2.57-.29-5.28-1.28-5.28-5.7 0-1.26.45-2.3 1.2-3.12-.12-.3-.52-1.5.12-3.12 0 0 .98-.31 3.2 1.2a11.1 11.1 0 0 1 5.83 0c2.22-1.51 3.2-1.2 3.2-1.2.64 1.62.24 2.82.12 3.12.75.82 1.2 1.86 1.2 3.12 0 4.43-2.72 5.4-5.3 5.69.42.36.8 1.08.8 2.18v3.24c0 .31.21.67.8.56A11.52 11.52 0 0 0 23.5 12C23.5 5.65 18.35.5 12 .5z"/>
          </svg>
          luiz-lp
        </a>
      </span>
    </div>
  </footer>

  <script src="config.js"></script>
  <script src="app.js"></script>

  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("service-worker.js");
      });
    }
  </script>
</body>
</html>
